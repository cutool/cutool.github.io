(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{4645:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(5893),i=n(7748),s=n(9008),o=n(7294),a=n(4047),l=n(2700),c=n(4706),h=n(8127),u=n(4102),d=n(775),f=n(6265),p=n(1749),g=n(2318),v=n(809),x=n.n(v),m=n(2447),y=n(9656),_=(n(7902),n(8518),n(3935)),w={},k=w;w.prepMenuContent=function(e,t){t.__next_id||(t.__next_id=1);for(var n=e.kids,r=0,i=n.length;r<i;r++){var s=n[r];s.id||(s.id="__id_"+t.__next_id++),t[s.id]=s,s.parent=e,s.kids&&w.prepMenuContent(s,t)}return e},w.find=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n]},w.findIndex=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return n;return-1},w.copy=function(e,t){for(var n in t)e[n]=t[n];return e},w.clone=function(e){return JSON.parse(JSON.stringify(e))},w.now=function(){return Date.now()},w.searchRank=function(e,t){var n=w.searchTest;return t=t.toLowerCase(),e.access?n((e.keywords||"")+" "+(e.name||""),t,16)+n((e.description||"")+" "+(e.author||""),t,8):n(e.token,t,16)+n((e.id||"")+" "+(e.label||""),t,8)+n((e.desc||"")+" "+(e.ext||""),t,4)},w.searchTest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&-1!==e.toLowerCase().indexOf(t)?n:0},w.htmlSafe=function(e){return null==e?"":(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},w.shorten=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e)return e;var i=t>0&&e.length>t;return i&&(e=e.substr(0,t-1)),n&&(e=w.htmlSafe(e)),i?e+(r&&"<"+r+">")+"\u2026"+(r&&"</"+r+">"):e},w.unescSubstStr=function(e){return e?e.replace(w.SUBST_ESC_RE,(function(e,t,n){return w.SUBST_ESC_CHARS[t]||String.fromCharCode(parseInt(n,16))})):""},w.getRegExp=function(e){var t=e.match(/^\/(.+)\/([a-z]+)?$/),n=null;try{n=t?new RegExp(t[1],t[2]||""):new RegExp(e,"g")}catch(r){}return n},w.decomposeRegEx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=new RegExp("^"+t+"(.*)"+t+"([igmsuUxy]*)$"),r=n.exec(e);return r?{source:r[1],flags:r[2]}:{source:e,flags:"g"}},w.isMac=function(){return!!navigator.userAgent.match(/Mac\sOS/i)},w.getCtrlKey=function(){return w.isMac()?"cmd":"ctrl"};var R={};w.defer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;clearTimeout(R[t]),null!==e?R[t]=setTimeout((function(){delete R[t],e()}),n):delete R[t]},w.getHashCode=function(e){var t,n=0,r=e.length;for(t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n},w.getForkName=function(e){var t=/ ?\(fork ?(\d*)\)$/.exec(e);if(t){var n=1*(t[1]||1)+1;return e.substr(0,t.index)+" (fork "+n+")"}return e+" (fork)"},w.SUBST_ESC_CHARS={n:"\n",r:"\r",t:"\t","\\":"\\"},w.SUBST_ESC_RE=/\\([nrt\\]|u([A-Z0-9]{4}))/gi;var b=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#70b0e080",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#888";(0,a.Z)(this,e),this.lineSpacing=2,this.capWidth=4,this.lastBottom=-1,this.lastRight=-1,this.editor=t,this.canvas=n,this.fill=r,this.stroke=i}return(0,l.Z)(e,[{key:"redraw",value:function(){this._update()}},{key:"_deferUpdate",value:function(){var e=this;k.defer((function(){return e._update()}),"TextHighlighter._update")}},{key:"_update",value:function(){this.clear();var e=this._matches,t=this._hoverMatch,n=this._selectedMatch;if(e&&e.length){var r=this.editor,i=r.getDoc(),s=this.canvas.getContext("2d");s.fillStyle=this.fill,s.strokeStyle=this.stroke,s.lineWidth=2;var o=r.getScrollInfo(),a=r.indexFromPos(r.coordsChar({left:0,top:o.top},"local")),l=r.indexFromPos(r.coordsChar({left:o.clientWidth,top:o.top+o.clientHeight},"local"));console.log("start");for(var c=0,h=e.length;c<h;c++){var u=e[c],d=u.i,f=u.i+u.l-1;if(d>l)break;if(!(f<a||f<d)){var p=u.startPos||(u.startPos=i.posFromIndex(d)),g=u.endPos||(u.endPos=i.posFromIndex(f)),v=u===t||u===n,x=r.charCoords(p,"local"),m=r.charCoords(g,"local");if(console.log(JSON.stringify(x)),x.bottom===m.bottom)this.drawHighlight(s,x.left,x.top,m.right,m.bottom,o.top,!1,!1,v);else{var y=r.getScrollInfo().width,_=r.defaultTextHeight();this.drawHighlight(s,x.left,x.top,y-2,x.bottom,o.top,!1,!0,v);for(var w=x.top;(w+=_)<m.top-1;)this.drawHighlight(s,0,w,y-2,w+x.bottom-x.top,o.top,!0,!0,v);this.drawHighlight(s,0,m.top,m.right,m.bottom,o.top,!0,!1,v)}}}}}},{key:"drawHighlight",value:function(e,t,n,r,i,s,o,a,l){var c=this.capWidth;if(!(r<0||t+1>=r)){t=t+.5|0,r=r+.5|0,i=i+.5|0,(n=(n+.5|0)+this.lineSpacing)+1>this.lastBottom?this.lastBottom=i:t<this.lastRight&&(t=this.lastRight),this.lastRight=r;var h=e.globalAlpha;o&&(e.globalAlpha=.5*h,e.fillRect(t+1|0,n-s,c+1,i-n),t+=c),a&&(e.globalAlpha=.5*h,e.fillRect(r-c-1|0,n-s,c+1,i-n),r-=c),e.globalAlpha=h,e.fillRect(t+1,n-s,r-t-1,i-n),l&&e.strokeRect(t+1,n-s,r-t-1,i-n)}}},{key:"clear",value:function(){this.canvas.width=this.canvas.width,this.lastBottom=-1}},{key:"matches",set:function(e){this._matches=e,this._deferUpdate()}},{key:"hoverMatch",set:function(e){this._hoverMatch=e,this._deferUpdate()}},{key:"selectedMatch",set:function(e){this._selectedMatch=e,this._deferUpdate()}}]),e}();function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var S=function(e){(0,h.Z)(n,e);var t=C(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,c.Z)(r),"instance",null),(0,f.Z)((0,c.Z)(r),"highlighter",null),(0,f.Z)((0,c.Z)(r),"canvasElement",null),(0,f.Z)((0,c.Z)(r),"detector",null),r.state={value:"Edit the Expression & Text to see matches. Roll over matches or the expression for details. PCRE & JavaScript flavors of RegEx are supported. Validate your expression with Tests mode.\n\nThe side bar includes a Cheatsheet, full Reference, and Help.",options:{lineNumbers:!1,tabSize:3,indentWithTabs:!0,lineWrapping:!0,extraKeys:{},specialChars:/[ \u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/}},r.props.onInput(r.state.value),r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this;_.findDOMNode(this);this.instance.setSize("100%","100%"),this.canvasElement=document.getElementById("canvasElment"),this.highlighter=new b(this.instance,this.canvasElement),this.highlighter.redraw(),this.detector=document.getElementById("detector");var t=document.getElementsByClassName("react-codemirror2")[document.getElementsByClassName("react-codemirror2").length-1];t.width="100%",t.width="100%";var n=this.detector.contentWindow;n.onresize=function(){var t=0|n.innerWidth,r=0|n.innerHeight;e._startResize(),e._handleResize(t,r)},n.onresize(),this.props.onRef(this),this.props.onInput(this.state.value)}},{key:"_startResize",value:function(){var e=this.canvasElement,t=e.style;t.visibility="hidden",t.opacity=0,e.width=e.height=1}},{key:"_handleResize",value:function(){var e=(0,m.Z)(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.canvasElement,(i=r.style).visibility=i.opacity="",r.width=t,r.height=n,this.instance.refresh(),this._update();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_update",value:function(){var e=(0,m.Z)(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.result,n=t&&t.matches,this.highlighter.matches=n,this.highlighter.redraw();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateResult",value:function(){var e=(0,m.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({result:t}),this._update();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,r.jsxs)("div",{className:".pad",id:"editorContainer",style:{boxSizing:"border-box",position:"relative",overflow:"hidden",width:"100%",flex:1},children:[(0,r.jsx)(s.default,{children:(0,r.jsx)("link",{rel:"stylesheet",href:"regexr.css"})}),(0,r.jsx)("iframe",{className:"resizedetector",id:"detector",style:{opacity:0,zIndex:-1e3,border:"none",width:"100%",height:"100%",position:"absolute"}}),(0,r.jsx)("canvas",{id:"canvasElment",className:"highlights",style:{transition:"opacity .2s",position:"absolute",zIndex:1}}),(0,r.jsx)(y.fk,{className:"editor-contaner",value:this.state.value,options:this.state.options,onBeforeChange:function(t,n,r){e.setState({value:r})},onChange:function(t,n,r){e.props.onInput(r)},editorDidMount:function(t){e.instance=t}})]})}}]),n}(o.Component),E=n(2311),Z=n.n(E),j=function(){function e(){(0,a.Z)(this,e);this.workerBlob=new(Z())(['onmessage=function(e){postMessage("onload");var t,s,n,a=e.data,i=a.text,d=a.tests,l=a.mode,r=new RegExp(a.pattern,a.flags),o=[];if("tests"===l)for(var g=0,x=d.length;g<x;g++){let e=d[g];i=e.text,r.lastIndex=0,t=r.exec(i),o[g]=t?{i:t.index,l:t[0].length,id:e.id}:{id:e.id}}else for(;t=r.exec(i);){s===r.lastIndex&&(n={id:"infinite",warning:!0},++r.lastIndex),s=r.lastIndex;var f=t.reduce(function(e,t,s){return(0===s||e.push({s:t}))&&e},[]);if(o.push({i:t.index,l:t[0].length,groups:f}),!r.global)break}postMessage({error:n,matches:o,mode:l})};'],{type:"text/javascript"}),this._workerObjectURL=null}return(0,l.Z)(e,[{key:"solve",value:function(e,t){var n=this;null==this._workerObjectURL&&(this._workerObjectURL=window.URL.createObjectURL(this.workerBlob)),this._callback=t,this._req=e,console.log(JSON.stringify(e));var r,i=e.text,s=e.tests,o=e.mode;try{this._regex=r=new RegExp(e.pattern,e.flags)}catch(v){return this._onRegExComplete({id:"regexparse",name:v.name,message:v.message},null,o)}if(console.log(this._regex),window.Worker){console.log("test2");var a=new Worker(this._workerObjectURL);a.onmessage=function(e){console.log("test3"),"onload"===e.data?(n._startTime=k.now(),n._timeoutId=setTimeout((function(){a.terminate(),n._onRegExComplete({id:"timeout"},null,o)}),250)):(clearTimeout(n._timeoutId),a.terminate(),n._onRegExComplete(e.data.error,e.data.matches,e.data.mode))},a.postMessage({pattern:e.pattern,flags:e.flags,text:i,tests:s,mode:o})}else{this._startTime=k.now();var l,c,h,u=[];if("tests"===o)for(var d=0,f=s.length;d<f;d++){var p=s[d];i=p.text,r.lastIndex=0,l=r.exec(i),u[d]=l?{i:l.index,l:l[0].length,id:p.id}:{id:p.id}}else for(;l=r.exec(i);){c===r.lastIndex&&(h={id:"infinite",warning:!0},++r.lastIndex),c=r.lastIndex;var g=l.reduce((function(e,t,n){return(0===n||e.push({s:t}))&&e}),[]);if(u.push({i:l.index,l:l[0].length,groups:g}),!r.global)break}this._onRegExComplete(h,u,o)}}},{key:"_onRegExComplete",value:function(e,t,n){var r={time:e?null:k.now()-this._startTime,error:e,mode:n,matches:t},i=this._req.tool;if(i&&(r.tool={id:i.id},!e||e.warning&&null!=i.input)){var s=k.unescSubstStr(i.input);r.tool.result="replace"===i.id?this._getReplace(s):this._getList(s)}this._callback(r)}},{key:"_getReplace",value:function(e){return this._req.text.replace(this._regex,e)}},{key:"_getList",value:function(e){var t,n,r,i=this._req.text,s="",o=0;try{r=new RegExp(this._req.pattern,this._req.flags.replace("g",""))}catch(c){return null}-1===e.search(/\$[&1-9`']/)&&(o=e.length,e="$&"+e);do{var a=(n=i.replace(r,"\b")).indexOf("\b"),l=n.length>i.length;if(-1===a)break;s+=(t=i.replace(r,e)).substr(a,t.length-n.length+1),i=n.substr(a+(l?2:1))}while(i.length);return o&&(s=s.substr(0,s.length-o)),s}}]),e}();function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var T=function(e){(0,h.Z)(n,e);var t=I(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,c.Z)(r),"solver",new j),(0,f.Z)((0,c.Z)(r),"result",null),(0,f.Z)((0,c.Z)(r),"editor",null),r.onInputChange=r.onInputChange.bind((0,c.Z)(r)),r.onEditorTextChange=r.onEditorTextChange.bind((0,c.Z)(r)),r.state={expression:"([A-Z])\\w+",article:""},r}return(0,l.Z)(n,[{key:"onInputChange",value:function(e){var t=this;this.setState({expression:e.target.value});var n={pattern:e.target.value,flags:"g",mode:"text",text:this.state.article};this.solver.solve(n,(function(e){return t._handleResult(e)}))}},{key:"_handleResult",value:function(e){this.result=this._processResult(e),this.editor.updateResult(e)}},{key:"_processResult",value:function(e){return"text"===e.mode&&e.matches&&e.matches.forEach((function(e,t){return e.num=t})),e}},{key:"onRefEditor",value:function(e){this.editor=e}},{key:"componentDidMount",value:function(){}},{key:"onEditorTextChange",value:function(e){var t=this;this.setState({article:e});var n={pattern:this.state.expression,flags:"g",mode:"text",text:e};this.solver.solve(n,(function(e){return t._handleResult(e)}))}},{key:"render",value:function(){var e=this;return(0,r.jsxs)(p.Z,{container:!0,style:{flex:1},children:[(0,r.jsx)(p.Z,{xs:12,sm:4,item:!0,style:{},children:(0,r.jsx)("iframe",{src:"https://tool.oschina.net/uploads/apidocs/jquery/regexp.html",style:{width:"100%",height:"100%"}})}),(0,r.jsxs)(p.Z,{item:!0,xs:12,sm:8,style:{display:"flex",flexDirection:"column",paddingLeft:"4px"},children:[(0,r.jsx)("header",{style:{display:"flex",background:"#70b0e0",color:"#26292b",alignItems:"center",padding:"0 1rem 0 1rem",flex:"0 2.5rem"},children:(0,r.jsx)(g.Z,{component:"h1",style:{flex:1,fontSize:"1rem",fontWeight:700},children:"Expression"})}),(0,r.jsx)("input",{type:"text",style:{padding:"1rem",fontSize:16,border:0,color:"#282b2d"},onChange:this.onInputChange,defaultValue:this.state.expression}),(0,r.jsx)("header",{style:{display:"flex",background:"#b7bcc0",color:"#26292b",alignItems:"center",padding:"0 1rem 0 1rem",flex:"0 2.5rem"},children:(0,r.jsx)(g.Z,{component:"h1",style:{flex:1,fontSize:"1rem",fontWeight:700},children:"Article"})}),(0,r.jsx)("div",{id:"article",style:{flex:1,padding:"1rem",border:0,fontSize:"16px",display:"flex"},children:(0,r.jsx)(S,{onRef:function(t){return e.onRefEditor(t)},onInput:this.onEditorTextChange})})]})]})}}]),n}(o.Component);var M=function(){return(0,r.jsxs)(i.Z,{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"\u5728\u7ebf\u6b63\u5219\u68c0\u67e5\u5de5\u5177"}),(0,r.jsx)("meta",{content:"\u5de5\u5177,\u6b63\u5219,regex,regexr,\u89e3\u6790,\u7a0b\u5e8f\u5458,\u8bbe\u8ba1\u5e08,parse",name:"keywords"}),(0,r.jsx)("meta",{content:"\u5728\u7ebf\u6b63\u5219\u68c0\u67e5\u5de5\u5177",name:"title"}),(0,r.jsx)("meta",{content:"\u4e3a\u5de5\u7a0b\u5e08\u548c\u8bbe\u8ba1\u5e08\u63d0\u4f9b\u6700\u65b9\u4fbf\u7684\u5728\u7ebf\u5de5\u5177, \u5305\u62ec JSON \u89e3\u6790\uff0cURL\u8f6c\u6362",name:"description"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"})]}),(0,r.jsx)(T,{})]})}},4840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/regexr.html",function(){return n(4645)}])}},0,[[4840,272,774,126,532,148,357,194,809,747]]]);